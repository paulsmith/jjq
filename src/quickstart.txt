jjq — Local Merge Queue for jj

WHAT IT DOES
  jjq queues revisions and merges them to a trunk bookmark one at a
  time. Each merge is tested with a configurable check command. If the
  check passes, trunk advances. If it fails or conflicts, the item is
  marked failed and the queue continues.

CORE COMMANDS
  jjq init            Set up jjq one time (interactive without flags)
    --trunk NAME      Trunk bookmark (skip prompt)
    --check CMD       Check command (skip prompt)
  jjq push REVSET     Queue a revision for merging
  jjq run             Process the next queue item
  jjq run --all       Process all queue items
  jjq status          Show queue and recent failures
  jjq check REVSET    Pre-flight: test a revision without queuing it

AS AN AGENT
  Your job is to push finished work to the queue. You don't run it.
    jjq push @          Queue your current change
    jjq status          Check if your change merged or failed

RESOLVING FAILURES
  If your push was marked failed (conflict or check failure):
    1. jj rebase -r <your-rev> -d <trunk-bookmark>
    2. Resolve any conflict markers in the affected files
    3. Verify: run the project's check command
    4. jjq push @        Re-push (automatically clears the failed entry)

THINGS TO KNOW
  - Push resolves a jj revset to one revision and queues it by change ID
  - Queue is processed FIFO; each item gets a temporary workspace
  - Re-pushing the same change ID replaces its queue/failed entry
  - Use 'jjq check @' to test before pushing — catches conflicts early
  - Exit codes: 0=success, 1=conflict/failure, 2=partial, 3=lock held

TROUBLESHOOTING
  jjq doctor           Validate config, bookmarks, locks
  jjq delete ID        Remove item from queue or failed list
  jjq clean            Remove orphaned jjq workspaces
